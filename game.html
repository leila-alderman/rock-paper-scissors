<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Let's play Rock, Paper, Scissors! The first to five points wins.</h1>
    <div id="container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div id="results">
        
    </div>
  <script>
    function computerPlay() {
        const options = ['rock', 'paper', 'scissors'];
        let computerSelection = options[Math.floor(Math.random() * options.length)];
        return computerSelection;
    }
    function playRound(playerSelection, computerSelection) {
        if (playerSelection === computerSelection) {
            return `It's a tie! You both chose ${playerSelection}.`
        } else if (playerSelection === 'rock' && computerSelection === 'paper') {
            return "You lose! Paper covers rock."
        } else if (playerSelection === 'rock' && computerSelection === 'scissors') {
            return "You win! Rock breaks scissors."
        } else if (playerSelection === 'paper' && computerSelection === 'rock') {
            return "You win! Paper covers rock."
        } else if (playerSelection === 'paper' && computerSelection === 'scissors') {
            return "You lose! Scissors cut paper."
        } else if (playerSelection === 'scissors' && computerSelection === 'rock') {
            return "You lose! Rock breaks scissors."
        } else if (playerSelection === 'scissors' && computerSelection === 'paper') {
            return "You win! Scissors cut paper."
        } else {
            return "What did you say?"
        }
    }

    const buttons = document.querySelectorAll("button");
    const results = document.querySelector('#results');
    let message = document.createElement('p');
    let score = document.createElement('h2');
    message.textContent = "Click on a button to start playing.";
    score.textContent = `Player's score: 0 Computer's score: 0`;
    results.appendChild(message);
    results.appendChild(score);

    let playerScore = 0;
    let computerScore = 0;

    if (playerScore < 5 && computerScore < 5) {
        // Play a round whenever the user clicks on a button
        buttons.forEach((button) => {
            button.addEventListener('click', (e) => {
                results.removeChild(message);
                results.removeChild(score);
                let roundOutput = playRound(button.id, computerPlay());          
                message.textContent = roundOutput;
                results.appendChild(message);
                if (roundOutput.search("win") > 1) {
                    playerScore += 1
                } else if (roundOutput.search("lose") > 1) {
                    computerScore += 1
                }
                score.textContent = `Player's score: ${playerScore} Computer's score: ${computerScore}`;
                results.appendChild(score);
            });
        });
    } else {
        results.removeChild(message);
        if (playerScore > computerScore) {
            message.textContent = "Game over. You won!"
        } else {
            message.textContent = "Game over. You lost."
        }
    }
 
  </script>
</body>
</html>